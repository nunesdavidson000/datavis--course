<!DOCTYPE html lang="pt-br">
<meta charset="utf-8">
<html>
    <head>
    <title>Título da Página</title> 
    </head>
    <body>
       

<div id="barraUm">
   <p>Célula html</p>
</div>`

d3.select("#barraUm")

  barras1 = {//elemento barra
    const width = 700 //criou constante
    const height = 200
    // DOM.svg() é um método específico do Observable // criar svg = selecione  um elemento DOM /  SVG  (constantes))
    const svg = d3.select(DOM.svg(width, height))  // sao duas funcoes por isso nao tem aspas. Cria o svg e depois seleciona
    const arrayOfNumbers = [10, 15, 30, 50, 80, 65, 55, 30, 20, 10, 8] //simples array

    svg.selectAll('rect') // Seleciona todos os retângulos filhos de svg (nesse caso, uma seleção vazia)//nao tem retang
    //o que for retangulo dentro do svg foi selecionado, mas nao tem retangulo

      .data(arrayOfNumbers) // Vincula arrayOfNumbers com DOM elementos <rect/>, produzindo seleções .enter(),.exit()
    //eh uma funcao por isso nao tem aspas


      .enter()// Retorna a parte dos dados que é nova ("entering") e ainda não está vinculada aos elementos DOM
    //junta dados de entrada    a    elementos  do append retangulo 

        .append('rect') // Para cada item de dado, adiciona um <rect /> ao svg selecionado // cria um retangulo para cada dado
        .attr('x', (d, i) => i * 30 + 20) // Configura a posição x de acordo com o índice do vetor //+20 nao cola no inicio
        //Arrow funcition   parametros de entrada             =>       resultados da expressao               para o x atributo
        // (d) representacao dos dados       (i) indice do array

        .attr('y', (d) => height - d*2) // Configura a posição y de cada barra  //coloca de cabeca para baixo
        .attr('width', 20) //Configura a largura de cada barra
        .attr('height', (d) => d * 2) // Configura a altura de cada barra // Coloca *2 para preencher mais o espaço do grafico
        .attr('fill', "DarkSlateGrey") // Configura a cor de preenchimento de cada barra

    svg.selectAll('text') //elementos de texto do grafico selecionados.   Do DOM o objeto svg do tipo texto
      .data(arrayOfNumbers) // Vincula arrayOfNumbers com DOM elementos <rect/>, produzindo seleções .enter(),.exit()
      .enter()// Retorna a parte dos dados que é nova ("entering") e ainda não está vinculada aos elementos DOM
        .append('text')
        .text((d) => d)// os valores do array sao os valores do texto // funcao para percorrer todos os valores
        .attr('x', (d,i) => i * 30 + 20 + 10) // + 10 para centralizar o texto
        .attr('y', (d) => height-d*2-3) // Configura a posição y de cada barra // fica o texto mais a cima da barra
        .attr('font-family','sans-serif')
        .attr('font-size','14px')
        .attr('text-anchor','middle') //alinhamento centralizado
    // Once we append the vis elments to it, we return the DOM element for Observable to display above.
    return svg.node() //retornar os elementos do dom   node?
  }
  
  




    </body>
</html>